<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Using the OpenAQ API &#8212; py-openaq 1.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Evaluating Delhi’s AQ Using OpenAQ" href="delhi.html" />
    <link rel="prev" title="py-openaq Tutorial" href="../tutorial.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          py-openaq</a>
        <span class="navbar-text navbar-version pull-left"><b>1.1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
                <li><a href="../tutorial.html">Tutorial</a></li>
                <li><a href="../examples/index.html">Gallery</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Getting Started and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">py-openaq Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Example gallery</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Using the OpenAQ API</a><ul>
<li><a class="reference internal" href="#openaq-api">OpenAQ API</a><ul>
<li><a class="reference internal" href="#your-first-request">Your First Request</a></li>
<li><a class="reference internal" href="#cities">Cities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#countries">Countries</a></li>
<li><a class="reference internal" href="#fetches">Fetches</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#sources">Sources</a></li>
<li><a class="reference internal" href="#locations">Locations</a></li>
<li><a class="reference internal" href="#latest">Latest</a></li>
<li><a class="reference internal" href="#measurements">Measurements</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="using-the-openaq-api">
<span id="api-tutorial"></span><h1>Using the OpenAQ API<a class="headerlink" href="#using-the-openaq-api" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal"><span class="pre">openaq</span></code> api is an easy-to-use wrapper built around the <a class="reference external" href="https://docs.openaq.org/">OpenAQ
Api</a>. Complete API documentation can be
found on their website.</p>
<p>There are no keys or rate limits (as of March 2017), so working with the
API is straight forward. If building a website or app, you may want to
just use the python wrapper and interact with the data in json format.
However, the rest of this tutorial will assume you are interested in
analyzing the data. To get more out of it, I recommend installing
<code class="docutils literal"><span class="pre">seaborn</span></code> for manipulating the asthetics of plots, and working with
data as DataFrames using <code class="docutils literal"><span class="pre">pandas</span></code>. For more information on these,
check out the installation section of this documentation.</p>
<p>From this point forward, I assume you have at least a basic knowledge of
python and matplotlib. This documentation was built using the following
versions of all packages:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">openaq</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="c1"># Set major seaborn asthetics</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;notebook&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;ticks&#39;</span><span class="p">,</span> <span class="n">font_scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># Increase the quality of inline plots</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.dpi&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">500</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;pandas v</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;matplotlib v</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mpl</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;seaborn v</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;openaq v</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">openaq</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pandas</span> <span class="n">v0</span><span class="o">.</span><span class="mf">21.0</span>
<span class="n">matplotlib</span> <span class="n">v2</span><span class="o">.</span><span class="mf">1.0</span>
<span class="n">seaborn</span> <span class="n">v0</span><span class="o">.</span><span class="mf">8.1</span>
<span class="n">openaq</span> <span class="n">v1</span><span class="o">.</span><span class="mf">1.0</span>
</pre></div>
</div>
<div class="section" id="openaq-api">
<h2>OpenAQ API<a class="headerlink" href="#openaq-api" title="Permalink to this headline">¶</a></h2>
<p>The OpenAQ APi has only eight endpoints that we are interested in:</p>
<ul class="simple">
<li>cities: provides a simple listing of cities within the platforms</li>
<li>countries: provides a simple listing of countries within the platform</li>
<li>fetches: providing data about individual fetch operations that are
used to populate data in the platform</li>
<li>latest: provides the latest value of each available parameter for
every location in the system</li>
<li>locations: provides a list of measurement locations and their meta
data</li>
<li>measurements: provides data about individual measurements</li>
<li>parameters: provides a simple listing of parameters within the
platform</li>
<li>sources: provides a list of data sources</li>
</ul>
<p>For detailed documentation about each one in the context of this API
wrapper, please check out the API documentation.</p>
<div class="section" id="your-first-request">
<h3>Your First Request<a class="headerlink" href="#your-first-request" title="Permalink to this headline">¶</a></h3>
<p>Real quick, let’s go ahead and initiate an instance of the
<code class="docutils literal"><span class="pre">openaq.OpenAQ</span></code> class so we can begin looking at data:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">api</span> <span class="o">=</span> <span class="n">openaq</span><span class="o">.</span><span class="n">OpenAQ</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="cities">
<h3>Cities<a class="headerlink" href="#cities" title="Permalink to this headline">¶</a></h3>
<p>The cities API endpoint lists the cities available within the platform.
Results can be subselected by country and paginated to retrieve all
results in the database. Let’s start by performing a basic query with an
increased limit (so we can get all of them) and return it as a
DataFrame:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">cities</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>

<span class="c1"># display the first 10 rows</span>
<span class="n">resp</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 2020 entries, 0 to 2019
Data columns (total 4 columns):
city         2020 non-null object
count        2020 non-null int64
country      2020 non-null object
locations    2020 non-null int64
dtypes: int64(2), object(2)
memory usage: 63.2+ KB
</pre></div>
</div>
<p>So we retrieved 1400+ entries from the database. We can then take a look
at them:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                                           city   count country  locations
0                            Escaldes-Engordany   13324      AD          2
1                                        unused     314      AD          1
2                                     Abu Dhabi     477      AE          1
3                                  Buenos Aires   14976      AR          4
4              Amt der K�rntner Landesregierung  104663      AT         16
5                                       Austria  121987      AT        174
6  Amt der Ober�sterreichischen Landesregierung  154329      AT         16
7      Amt der Burgenl�ndischen Landesregierung   35608      AT          3
8            Amt der Salzburger Landesregierung   94197      AT         12
9      Amt der Burgenländischen Landesregierung     471      AT          1
</pre></div>
</div>
<p>Let’s try to find out which ones are in India:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;country == &#39;IN&#39;&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                   <span class="n">city</span>    <span class="n">count</span> <span class="n">country</span>  <span class="n">locations</span>
<span class="mi">841</span>              <span class="n">Mumbai</span>   <span class="mi">309477</span>      <span class="n">IN</span>          <span class="mi">3</span>
<span class="mi">842</span>                <span class="n">Kota</span>    <span class="mi">23264</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">843</span>               <span class="n">Delhi</span>  <span class="mi">1140259</span>      <span class="n">IN</span>         <span class="mi">35</span>
<span class="mi">844</span>           <span class="n">Ghaziabad</span>    <span class="mi">99087</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">845</span>          <span class="n">Barddhaman</span>     <span class="mi">2470</span>      <span class="n">IN</span>          <span class="mi">3</span>
<span class="mi">846</span>             <span class="n">Asansol</span>     <span class="mi">1590</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">847</span>             <span class="n">Lucknow</span>   <span class="mi">271912</span>      <span class="n">IN</span>          <span class="mi">5</span>
<span class="mi">848</span>         <span class="n">Muzaffarpur</span>   <span class="mi">116841</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">849</span>           <span class="n">Hyderabad</span>   <span class="mi">465962</span>      <span class="n">IN</span>         <span class="mi">15</span>
<span class="mi">850</span>       <span class="n">Visakhapatnam</span>   <span class="mi">208237</span>      <span class="n">IN</span>          <span class="mi">8</span>
<span class="mi">851</span>            <span class="n">Amritsar</span>    <span class="mi">77849</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">852</span>             <span class="n">Bhiwadi</span>    <span class="mi">20846</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">853</span>             <span class="n">Kolkata</span>   <span class="mi">168542</span>      <span class="n">IN</span>          <span class="mi">7</span>
<span class="mi">854</span>           <span class="n">Bengaluru</span>   <span class="mi">371649</span>      <span class="n">IN</span>          <span class="mi">8</span>
<span class="mi">855</span>              <span class="n">Howrah</span>    <span class="mi">50263</span>      <span class="n">IN</span>          <span class="mi">4</span>
<span class="mi">856</span>         <span class="n">Navi</span> <span class="n">Mumbai</span>     <span class="mi">7725</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">857</span>           <span class="n">Ahmedabad</span>    <span class="mi">57714</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">858</span>           <span class="n">Faridabad</span>   <span class="mi">113546</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">859</span>              <span class="n">Nashik</span>    <span class="mi">76217</span>      <span class="n">IN</span>          <span class="mi">4</span>
<span class="mi">860</span>              <span class="n">Haldia</span>   <span class="mi">115284</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">861</span>  <span class="n">Thiruvananthapuram</span>    <span class="mi">46124</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">862</span>              <span class="n">Rohtak</span>    <span class="mi">95050</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">863</span>               <span class="n">Medak</span>     <span class="mi">2671</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">864</span>                <span class="n">Pune</span>   <span class="mi">145450</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">865</span>            <span class="n">Tirupati</span>   <span class="mi">159117</span>      <span class="n">IN</span>          <span class="mi">4</span>
<span class="mi">866</span>               <span class="n">Ajmer</span>    <span class="mi">25266</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">867</span>          <span class="n">Vijayawara</span>    <span class="mi">34902</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">868</span>            <span class="n">Durgapur</span>    <span class="mi">78761</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">869</span>          <span class="n">Jorapokhar</span>    <span class="mi">35558</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">870</span>               <span class="n">NOIDA</span>    <span class="mi">12061</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="o">..</span>                  <span class="o">...</span>      <span class="o">...</span>     <span class="o">...</span>        <span class="o">...</span>
<span class="mi">873</span>                <span class="n">Gaya</span>    <span class="mi">76810</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">874</span>          <span class="n">Chandrapur</span>   <span class="mi">232244</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">875</span>             <span class="n">Chennai</span>   <span class="mi">290415</span>      <span class="n">IN</span>          <span class="mi">4</span>
<span class="mi">876</span>            <span class="n">Siliguri</span>       <span class="mi">30</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">877</span>               <span class="n">Thane</span>   <span class="mi">130025</span>      <span class="n">IN</span>          <span class="mi">3</span>
<span class="mi">878</span>              <span class="n">Nagpur</span>    <span class="mi">72328</span>      <span class="n">IN</span>          <span class="mi">5</span>
<span class="mi">879</span>           <span class="n">Mandideep</span>     <span class="mi">7847</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">880</span>               <span class="n">Patna</span>    <span class="mi">75338</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">881</span>             <span class="n">Dhanbad</span>        <span class="mi">3</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">882</span>          <span class="n">Aurangabad</span>   <span class="mi">113529</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">883</span>              <span class="n">Kanpur</span>   <span class="mi">159678</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">884</span>           <span class="n">Moradabad</span>    <span class="mi">24595</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">885</span>            <span class="n">Chittoor</span>     <span class="mi">2013</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">886</span>               <span class="n">Alwar</span>    <span class="mi">14017</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">887</span>          <span class="n">Vijayawada</span>    <span class="mi">11624</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">888</span>             <span class="n">Udaipur</span>    <span class="mi">25699</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">889</span>              <span class="n">Jaipur</span>   <span class="mi">190441</span>      <span class="n">IN</span>          <span class="mi">6</span>
<span class="mi">890</span>            <span class="n">Ludhiana</span>    <span class="mi">72308</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">891</span>            <span class="n">Varanasi</span>   <span class="mi">181673</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">892</span>                <span class="n">Pali</span>    <span class="mi">23627</span>      <span class="n">IN</span>          <span class="mi">2</span>
<span class="mi">893</span>              <span class="n">Ujjain</span>    <span class="mi">16924</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">894</span>           <span class="n">Singrauli</span>    <span class="mi">14636</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">895</span>             <span class="n">Jodhpur</span>   <span class="mi">151172</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">896</span>                <span class="n">Agra</span>    <span class="mi">84301</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">897</span>               <span class="n">Dewas</span>    <span class="mi">11671</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">898</span>           <span class="n">Amaravati</span>    <span class="mi">11432</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">899</span>    <span class="n">Mandi</span> <span class="n">Gobindgarh</span>    <span class="mi">48579</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">900</span>             <span class="n">Solapur</span>   <span class="mi">253940</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">901</span>           <span class="n">Pithampur</span>    <span class="mi">12173</span>      <span class="n">IN</span>          <span class="mi">1</span>
<span class="mi">902</span>             <span class="n">Gurgaon</span>   <span class="mi">147910</span>      <span class="n">IN</span>          <span class="mi">1</span>

<span class="p">[</span><span class="mi">62</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>Great! For the rest of the tutorial, we are going to focus on Delhi,
India. Why? Well..because there are over 500,000 data points and my
personal research is primarily in India. We will also take a look at
some <span class="math">\(SO_2\)</span> data from Hawai’i later on (another great research
locale).</p>
</div>
</div>
<div class="section" id="countries">
<h2>Countries<a class="headerlink" href="#countries" title="Permalink to this headline">¶</a></h2>
<p>Similar to the <code class="docutils literal"><span class="pre">cities</span></code> endpoint, the <code class="docutils literal"><span class="pre">countries</span></code> endpoint lists the
countries available. The only parameters we have to play with are the
limit and page number. If we want to grab them all, we can just up the
limit to the maximum (10000).</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">countries</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>   <span class="n">cities</span> <span class="n">code</span>    <span class="n">count</span>  <span class="n">locations</span>       <span class="n">name</span>
<span class="mi">0</span>       <span class="mi">2</span>   <span class="n">AD</span>    <span class="mi">13638</span>          <span class="mi">3</span>    <span class="n">Andorra</span>
<span class="mi">1</span>       <span class="mi">1</span>   <span class="n">AR</span>    <span class="mi">14976</span>          <span class="mi">4</span>  <span class="n">Argentina</span>
<span class="mi">2</span>      <span class="mi">18</span>   <span class="n">AU</span>  <span class="mi">3248142</span>         <span class="mi">99</span>  <span class="n">Australia</span>
<span class="mi">3</span>      <span class="mi">16</span>   <span class="n">AT</span>  <span class="mi">1521351</span>        <span class="mi">306</span>    <span class="n">Austria</span>
<span class="mi">4</span>       <span class="mi">1</span>   <span class="n">BH</span>    <span class="mi">13820</span>          <span class="mi">1</span>    <span class="n">Bahrain</span>
</pre></div>
</div>
</div>
<div class="section" id="fetches">
<h2>Fetches<a class="headerlink" href="#fetches" title="Permalink to this headline">¶</a></h2>
<p>If you are interested in getting information pertaining to the
individual data fetch operations, go ahead and use this endpoint. Most
people won’t need to use this. This API method does not allow the <code class="docutils literal"><span class="pre">df</span></code>
parameter; if you would like it to be added, drop me a message.</p>
<p>Otherwise, here is how you can access the json-formatted data:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">status</span><span class="p">,</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">fetches</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Print out the meta info</span>
<span class="n">resp</span><span class="p">[</span><span class="s1">&#39;meta&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;found&#39;</span><span class="p">:</span> <span class="mi">92506</span><span class="p">,</span>
 <span class="s1">&#39;license&#39;</span><span class="p">:</span> <span class="s1">&#39;CC BY 4.0&#39;</span><span class="p">,</span>
 <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;openaq-api&#39;</span><span class="p">,</span>
 <span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s1">&#39;pages&#39;</span><span class="p">:</span> <span class="mi">92506</span><span class="p">,</span>
 <span class="s1">&#39;website&#39;</span><span class="p">:</span> <span class="s1">&#39;https://docs.openaq.org/&#39;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">parameters</span></code> endpoint will provide a listing off all the
parameters available:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">parameters</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
                                         description    id   name  0                                       Black Carbon    bc     BC
1                                    Carbon Monoxide    co     CO
2                                   Nitrogen Dioxide   no2    NO2
3                                              Ozone    o3     O3
4  Particulate matter less than 10 micrometers in...  pm10   PM10
5  Particulate matter less than 2.5 micrometers i...  pm25  PM2.5
6                                     Sulfur Dioxide   so2    SO2

  preferredUnit
0         µg/m³
1           ppm
2           ppm
3           ppm
4         µg/m³
5         µg/m³
6           ppm
</pre>
</div>
<div class="section" id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">sources</span></code> endpoint will provide a list of the sources where the
raw data came from.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print out the first one</span>
<span class="n">res</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">active</span>                                                       <span class="kc">True</span>
<span class="n">adapter</span>                                                 <span class="n">arpalazio</span>
<span class="n">city</span>                                                          <span class="n">NaN</span>
<span class="n">contacts</span>                                        <span class="p">[</span><span class="n">info</span><span class="nd">@openaq</span><span class="o">.</span><span class="n">org</span><span class="p">]</span>
<span class="n">country</span>                                                        <span class="n">IT</span>
<span class="n">description</span>             <span class="n">Air</span> <span class="n">quality</span> <span class="n">data</span> <span class="kn">from</span> <span class="nn">Lazio</span> <span class="n">region</span><span class="p">,</span> <span class="n">Italy</span>
<span class="n">location</span>                                                      <span class="n">NaN</span>
<span class="n">name</span>                                                    <span class="n">ARPALAZIO</span>
<span class="n">organization</span>                                                  <span class="n">NaN</span>
<span class="n">region</span>                                                      <span class="n">Lazio</span>
<span class="n">resolution</span>                                                    <span class="n">NaN</span>
<span class="n">sourceURL</span>                               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">arpalazio</span><span class="o">.</span><span class="n">net</span><span class="o">/</span>
<span class="n">timezone</span>                                                      <span class="n">NaN</span>
<span class="n">url</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">arpalazio</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">aria</span><span class="o">/</span><span class="n">sci</span><span class="o">/</span><span class="n">annoinc</span><span class="o">...</span>
<span class="n">Name</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
</div>
<div class="section" id="locations">
<h2>Locations<a class="headerlink" href="#locations" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">locations</span></code> endpoint will return the list of measurement locations
and their meta data. We can do quite a bit of querying with this one:</p>
<p>Let’s see what the data looks like:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">locations</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">res</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 100 entries, 0 to 99
Data columns (total 11 columns):
city                     100 non-null object
coordinates.latitude     100 non-null float64
coordinates.longitude    100 non-null float64
count                    100 non-null int64
country                  100 non-null object
firstUpdated             100 non-null datetime64[ns]
lastUpdated              100 non-null datetime64[ns]
location                 100 non-null object
parameters               100 non-null object
sourceName               100 non-null object
sourceNames              100 non-null object
dtypes: datetime64[ns](2), float64(2), int64(1), object(6)
memory usage: 8.7+ KB
</pre></div>
</div>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="c1"># print out the first one</span>
<span class="n">res</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">city</span>                                  <span class="n">Ulaanbaatar</span>
<span class="n">coordinates</span><span class="o">.</span><span class="n">latitude</span>                      <span class="mf">47.9329</span>
<span class="n">coordinates</span><span class="o">.</span><span class="n">longitude</span>                     <span class="mf">106.921</span>
<span class="n">count</span>                                      <span class="mi">294682</span>
<span class="n">country</span>                                        <span class="n">MN</span>
<span class="n">firstUpdated</span>                  <span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">lastUpdated</span>                   <span class="mi">2018</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">24</span> <span class="mi">13</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span>
<span class="n">location</span>                                  <span class="mi">100</span> <span class="n">ail</span>
<span class="n">parameters</span>               <span class="p">[</span><span class="n">pm10</span><span class="p">,</span> <span class="n">no2</span><span class="p">,</span> <span class="n">so2</span><span class="p">,</span> <span class="n">o3</span><span class="p">,</span> <span class="n">co</span><span class="p">]</span>
<span class="n">sourceName</span>                               <span class="n">Agaar</span><span class="o">.</span><span class="n">mn</span>
<span class="n">sourceNames</span>                            <span class="p">[</span><span class="n">Agaar</span><span class="o">.</span><span class="n">mn</span><span class="p">]</span>
<span class="n">Name</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>What if we just want to grab the locations in Delhi?</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">locations</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Delhi&#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">res</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">city</span>                                              <span class="n">Delhi</span>
<span class="n">coordinates</span><span class="o">.</span><span class="n">latitude</span>                            <span class="mf">28.6508</span>
<span class="n">coordinates</span><span class="o">.</span><span class="n">longitude</span>                           <span class="mf">77.3152</span>
<span class="n">count</span>                                            <span class="mi">102326</span>
<span class="n">country</span>                                              <span class="n">IN</span>
<span class="n">distance</span>                                    <span class="mf">6.32199e+06</span>
<span class="n">firstUpdated</span>                        <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">29</span> <span class="mi">14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span>
<span class="n">lastUpdated</span>                         <span class="mi">2017</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">28</span> <span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span>
<span class="n">location</span>                                    <span class="n">Anand</span> <span class="n">Vihar</span>
<span class="n">parameters</span>               <span class="p">[</span><span class="n">pm10</span><span class="p">,</span> <span class="n">pm25</span><span class="p">,</span> <span class="n">so2</span><span class="p">,</span> <span class="n">o3</span><span class="p">,</span> <span class="n">co</span><span class="p">,</span> <span class="n">no2</span><span class="p">]</span>
<span class="n">sourceName</span>                                         <span class="n">CPCB</span>
<span class="n">sourceNames</span>                         <span class="p">[</span><span class="n">Anand</span> <span class="n">Vihar</span><span class="p">,</span> <span class="n">CPCB</span><span class="p">]</span>
<span class="n">Name</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>What about just figuring out which locations in Delhi have
<span class="math">\(PM_{2.5}\)</span> data?</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">locations</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Delhi&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;pm25&#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">res</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">city</span>                                   <span class="n">Delhi</span>
<span class="n">coordinates</span><span class="o">.</span><span class="n">latitude</span>                 <span class="mf">28.6508</span>
<span class="n">coordinates</span><span class="o">.</span><span class="n">longitude</span>                <span class="mf">77.3152</span>
<span class="n">count</span>                                  <span class="mi">23891</span>
<span class="n">country</span>                                   <span class="n">IN</span>
<span class="n">firstUpdated</span>             <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">29</span> <span class="mi">14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span>
<span class="n">lastUpdated</span>              <span class="mi">2017</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">28</span> <span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span>
<span class="n">location</span>                         <span class="n">Anand</span> <span class="n">Vihar</span>
<span class="n">parameters</span>                            <span class="p">[</span><span class="n">pm25</span><span class="p">]</span>
<span class="n">sourceName</span>                              <span class="n">CPCB</span>
<span class="n">sourceNames</span>              <span class="p">[</span><span class="n">CPCB</span><span class="p">,</span> <span class="n">Anand</span> <span class="n">Vihar</span><span class="p">]</span>
<span class="n">Name</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
</div>
<div class="section" id="latest">
<h2>Latest<a class="headerlink" href="#latest" title="Permalink to this headline">¶</a></h2>
<p>Grab the latest data from a location or locations.</p>
<p>What was the most recent <span class="math">\(PM_{2.5}\)</span> data in Delhi?</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">latest</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Delhi&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;pm25&#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">res</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>averagingPeriod.unit</th>
      <th>averagingPeriod.value</th>
      <th>city</th>
      <th>country</th>
      <th>location</th>
      <th>parameter</th>
      <th>sourceName</th>
      <th>unit</th>
      <th>value</th>
    </tr>
    <tr>
      <th>lastUpdated</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-11-28 10:15:00</th>
      <td>hours</td>
      <td>0.25</td>
      <td>Delhi</td>
      <td>IN</td>
      <td>Anand Vihar</td>
      <td>pm25</td>
      <td>CPCB</td>
      <td>b'\xc2\xb5g/m\xc2\xb3'</td>
      <td>70.00</td>
    </tr>
    <tr>
      <th>2018-01-24 09:45:00</th>
      <td>hours</td>
      <td>0.25</td>
      <td>Delhi</td>
      <td>IN</td>
      <td>Anand Vihar, Delhi - DPCC</td>
      <td>pm25</td>
      <td>CPCB</td>
      <td>b'\xc2\xb5g/m\xc2\xb3'</td>
      <td>160.00</td>
    </tr>
    <tr>
      <th>2018-01-24 01:15:00</th>
      <td>hours</td>
      <td>0.25</td>
      <td>Delhi</td>
      <td>IN</td>
      <td>Aya Nagar, Delhi - IMD</td>
      <td>pm25</td>
      <td>CPCB</td>
      <td>b'\xc2\xb5g/m\xc2\xb3'</td>
      <td>192.84</td>
    </tr>
    <tr>
      <th>2018-01-24 01:15:00</th>
      <td>hours</td>
      <td>0.25</td>
      <td>Delhi</td>
      <td>IN</td>
      <td>Burari Crossing, Delhi - IMD</td>
      <td>pm25</td>
      <td>CPCB</td>
      <td>b'\xc2\xb5g/m\xc2\xb3'</td>
      <td>53.45</td>
    </tr>
    <tr>
      <th>2018-01-24 01:15:00</th>
      <td>hours</td>
      <td>0.25</td>
      <td>Delhi</td>
      <td>IN</td>
      <td>CRRI Mathura Road, Delhi - IMD</td>
      <td>pm25</td>
      <td>CPCB</td>
      <td>b'\xc2\xb5g/m\xc2\xb3'</td>
      <td>185.60</td>
    </tr>
  </tbody>
</table>
</div><p>What about the most recent <span class="math">\(SO_2\)</span> data in Hawii?</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">latest</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Hilo&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;so2&#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">res</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>averagingPeriod.unit</th>
      <th>averagingPeriod.value</th>
      <th>city</th>
      <th>country</th>
      <th>location</th>
      <th>parameter</th>
      <th>sourceName</th>
      <th>unit</th>
      <th>value</th>
    </tr>
    <tr>
      <th>lastUpdated</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01-24 06:00:00</th>
      <td>hours</td>
      <td>1</td>
      <td>Hilo</td>
      <td>US</td>
      <td>Hawaii Volcanoes NP</td>
      <td>so2</td>
      <td>AirNow</td>
      <td>ppm</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2018-01-24 06:00:00</th>
      <td>hours</td>
      <td>1</td>
      <td>Hilo</td>
      <td>US</td>
      <td>Hilo</td>
      <td>so2</td>
      <td>AirNow</td>
      <td>ppm</td>
      <td>0.001</td>
    </tr>
    <tr>
      <th>2018-01-24 06:00:00</th>
      <td>hours</td>
      <td>1</td>
      <td>Hilo</td>
      <td>US</td>
      <td>Kona</td>
      <td>so2</td>
      <td>AirNow</td>
      <td>ppm</td>
      <td>0.003</td>
    </tr>
    <tr>
      <th>2018-01-24 06:00:00</th>
      <td>hours</td>
      <td>1</td>
      <td>Hilo</td>
      <td>US</td>
      <td>Ocean View</td>
      <td>so2</td>
      <td>AirNow</td>
      <td>ppm</td>
      <td>0.002</td>
    </tr>
    <tr>
      <th>2018-01-24 06:00:00</th>
      <td>hours</td>
      <td>1</td>
      <td>Hilo</td>
      <td>US</td>
      <td>Pahala</td>
      <td>so2</td>
      <td>AirNow</td>
      <td>ppm</td>
      <td>0.021</td>
    </tr>
    <tr>
      <th>2017-01-26 17:00:00</th>
      <td>hours</td>
      <td>1</td>
      <td>Hilo</td>
      <td>US</td>
      <td>Puna E Station</td>
      <td>so2</td>
      <td>AirNow</td>
      <td>ppm</td>
      <td>0.002</td>
    </tr>
  </tbody>
</table>
</div></div>
<div class="section" id="measurements">
<h2>Measurements<a class="headerlink" href="#measurements" title="Permalink to this headline">¶</a></h2>
<p>Finally, the endpoint we’ve all been waiting for! Measurements allows
you to grab all of the dataz! You can query on a whole bunhc of
parameters listed in the API documentation. Let’s dive in:</p>
<p>Let’s grab the past 10000 data points for <span class="math">\(PM_{2.5}\)</span> in Delhi:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">measurements</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Delhi&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;pm25&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print out the statistics on a per-location basiss</span>
<span class="n">res</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;location&#39;</span><span class="p">])[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>location</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Anand Vihar, Delhi - DPCC</th>
      <td>430.0</td>
      <td>259.625581</td>
      <td>147.207770</td>
      <td>49.00</td>
      <td>127.0000</td>
      <td>217.000</td>
      <td>345.0000</td>
      <td>644.00</td>
    </tr>
    <tr>
      <th>Aya Nagar, Delhi - IMD</th>
      <td>372.0</td>
      <td>149.792312</td>
      <td>63.647824</td>
      <td>3.00</td>
      <td>106.8725</td>
      <td>133.675</td>
      <td>185.5775</td>
      <td>362.89</td>
    </tr>
    <tr>
      <th>Burari Crossing, Delhi - IMD</th>
      <td>363.0</td>
      <td>130.473774</td>
      <td>54.497222</td>
      <td>41.82</td>
      <td>92.0150</td>
      <td>119.260</td>
      <td>157.5000</td>
      <td>333.67</td>
    </tr>
    <tr>
      <th>CRRI Mathura Road, Delhi - IMD</th>
      <td>361.0</td>
      <td>154.678227</td>
      <td>106.200845</td>
      <td>2.22</td>
      <td>80.3300</td>
      <td>141.950</td>
      <td>200.2300</td>
      <td>842.68</td>
    </tr>
    <tr>
      <th>Delhi Technological University, Delhi - CPCB</th>
      <td>1095.0</td>
      <td>297.557991</td>
      <td>154.132360</td>
      <td>59.00</td>
      <td>167.5000</td>
      <td>286.000</td>
      <td>401.0000</td>
      <td>764.00</td>
    </tr>
    <tr>
      <th>IGI Airport Terminal-3, Delhi - IMD</th>
      <td>361.0</td>
      <td>151.609806</td>
      <td>73.086274</td>
      <td>5.62</td>
      <td>95.0700</td>
      <td>143.700</td>
      <td>200.3100</td>
      <td>375.96</td>
    </tr>
    <tr>
      <th>IHBAS, Delhi - CPCB</th>
      <td>922.0</td>
      <td>122.903471</td>
      <td>45.207670</td>
      <td>0.00</td>
      <td>88.9000</td>
      <td>118.400</td>
      <td>147.4000</td>
      <td>308.30</td>
    </tr>
    <tr>
      <th>Income Tax Office, Delhi - CPCB</th>
      <td>1095.0</td>
      <td>210.021918</td>
      <td>94.767962</td>
      <td>0.00</td>
      <td>141.5000</td>
      <td>190.000</td>
      <td>277.5000</td>
      <td>477.00</td>
    </tr>
    <tr>
      <th>Lodhi Road, Delhi - IMD</th>
      <td>339.0</td>
      <td>160.147699</td>
      <td>72.395593</td>
      <td>9.69</td>
      <td>107.4550</td>
      <td>151.380</td>
      <td>208.2750</td>
      <td>383.10</td>
    </tr>
    <tr>
      <th>Mandir Marg, Delhi - DPCC</th>
      <td>264.0</td>
      <td>198.306818</td>
      <td>87.983323</td>
      <td>42.00</td>
      <td>132.0000</td>
      <td>186.000</td>
      <td>254.0000</td>
      <td>443.00</td>
    </tr>
    <tr>
      <th>NSIT Dwarka, Delhi - CPCB</th>
      <td>1030.0</td>
      <td>217.039612</td>
      <td>82.230388</td>
      <td>0.00</td>
      <td>155.9250</td>
      <td>197.600</td>
      <td>262.2000</td>
      <td>527.10</td>
    </tr>
    <tr>
      <th>North Campus, Delhi - IMD</th>
      <td>368.0</td>
      <td>212.198560</td>
      <td>112.838311</td>
      <td>0.41</td>
      <td>123.1100</td>
      <td>190.870</td>
      <td>275.0175</td>
      <td>633.12</td>
    </tr>
    <tr>
      <th>Punjabi Bagh, Delhi - DPCC</th>
      <td>318.0</td>
      <td>227.411950</td>
      <td>116.249854</td>
      <td>47.00</td>
      <td>125.0000</td>
      <td>208.500</td>
      <td>314.0000</td>
      <td>559.00</td>
    </tr>
    <tr>
      <th>Pusa, Delhi - IMD</th>
      <td>382.0</td>
      <td>125.018351</td>
      <td>58.187861</td>
      <td>28.51</td>
      <td>77.6475</td>
      <td>114.430</td>
      <td>163.2325</td>
      <td>320.82</td>
    </tr>
    <tr>
      <th>R K Puram, Delhi - DPCC</th>
      <td>400.0</td>
      <td>208.190000</td>
      <td>98.169711</td>
      <td>64.00</td>
      <td>139.0000</td>
      <td>188.000</td>
      <td>245.7500</td>
      <td>593.00</td>
    </tr>
    <tr>
      <th>Shadipur, Delhi - CPCB</th>
      <td>1055.0</td>
      <td>165.118104</td>
      <td>104.136933</td>
      <td>0.20</td>
      <td>94.5000</td>
      <td>139.000</td>
      <td>214.8500</td>
      <td>798.70</td>
    </tr>
    <tr>
      <th>Sirifort, Delhi - CPCB</th>
      <td>439.0</td>
      <td>213.398633</td>
      <td>98.462672</td>
      <td>0.00</td>
      <td>145.5000</td>
      <td>195.000</td>
      <td>277.5000</td>
      <td>979.00</td>
    </tr>
    <tr>
      <th>US Diplomatic Post: New Delhi</th>
      <td>406.0</td>
      <td>213.339901</td>
      <td>139.081139</td>
      <td>-999.00</td>
      <td>144.0000</td>
      <td>202.000</td>
      <td>269.7500</td>
      <td>1985.00</td>
    </tr>
  </tbody>
</table>
</div><p>Clearly, we should be doing some serious data cleaning ;) Why don’t we
go ahead and plot all of these locations on a figure.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="k">for</span> <span class="n">group</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;location&#39;</span><span class="p">):</span>
    <span class="c1"># Query the data to only get positive values and resample to hourly</span>
    <span class="n">_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;value &gt;= 0.0&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;1h&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="n">_df</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">group</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;$PM_</span><span class="si">{2.5}</span><span class="s2">$  [$\mu g m^{-3}$]&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/api_34_0.png" src="../_images/api_34_0.png" />
<p>Don’t worry too much about how ugly and uninteresting the plot above
is…we’ll take care of that in the next tutorial! Let’s go ahead and look
at the distribution of <span class="math">\(PM_{2.5}\)</span> values seen in Delhi by various
sensors. This is the same data as above, but viewed in a different way.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;location&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;value &gt;= 0.0&quot;</span><span class="p">),</span>
    <span class="n">fliersize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;deep&#39;</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">750</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;$PM_</span><span class="si">{2.5}</span><span class="s2">\;[\mu gm^{-3}]$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/api_36_0.png" src="../_images/api_36_0.png" />
<p>If we remember from above, there was at least one location where many
parameters were measured. Let’s go ahead and look at that location and
see if there is any correlation among parameters!</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">measurements</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Delhi&#39;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;Anand Vihar&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Which params do we have?</span>
<span class="n">res</span><span class="o">.</span><span class="n">parameter</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o3&#39;</span><span class="p">,</span> <span class="s1">&#39;no2&#39;</span><span class="p">,</span> <span class="s1">&#39;so2&#39;</span><span class="p">,</span> <span class="s1">&#39;pm10&#39;</span><span class="p">,</span> <span class="s1">&#39;pm25&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">parameter</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">_df</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;parameter&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">u</span><span class="p">][[</span><span class="s1">&#39;value&#39;</span><span class="p">]]</span>
    <span class="n">_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">]</span>

    <span class="c1"># Merge the dataframes together</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">_df</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>

<span class="c1"># Get rid of rows where not all exist</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">PairGrid</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">diag_sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">map_lower</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues_d&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">map_upper</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">map_diag</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/api_39_0.png" src="../_images/api_39_0.png" />
<p>For kicks, let’s go ahead and look at a timeseries of <span class="math">\(SO_2\)</span> data
in Hawai’i. Quiz: What do you expect? Did you know that Hawai’i has a
huge <span class="math">\(SO_2\)</span> problem?</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">measurements</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="s1">&#39;Hilo&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;so2&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print out the statistics on a per-location basiss</span>
<span class="n">res</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;location&#39;</span><span class="p">])[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>location</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Hawaii Volcanoes NP</th>
      <td>355.0</td>
      <td>0.007392</td>
      <td>0.035338</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>0.408</td>
    </tr>
    <tr>
      <th>Hilo</th>
      <td>438.0</td>
      <td>0.002486</td>
      <td>0.004487</td>
      <td>0.000</td>
      <td>0.001</td>
      <td>0.001</td>
      <td>0.002</td>
      <td>0.050</td>
    </tr>
    <tr>
      <th>Kona</th>
      <td>450.0</td>
      <td>0.003273</td>
      <td>0.004264</td>
      <td>0.001</td>
      <td>0.001</td>
      <td>0.002</td>
      <td>0.004</td>
      <td>0.039</td>
    </tr>
    <tr>
      <th>Ocean View</th>
      <td>455.0</td>
      <td>0.011490</td>
      <td>0.021762</td>
      <td>0.000</td>
      <td>0.001</td>
      <td>0.004</td>
      <td>0.011</td>
      <td>0.182</td>
    </tr>
    <tr>
      <th>Pahala</th>
      <td>422.0</td>
      <td>0.039166</td>
      <td>0.070299</td>
      <td>0.000</td>
      <td>0.004</td>
      <td>0.010</td>
      <td>0.040</td>
      <td>0.554</td>
    </tr>
  </tbody>
</table>
</div><div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="k">for</span> <span class="n">group</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;location&#39;</span><span class="p">):</span>
    <span class="c1"># Query the data to only get positive values and resample to hourly</span>
    <span class="n">_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;value &gt;= 0.0&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;6h&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="c1"># Convert from ppm to ppb</span>
    <span class="n">_df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">1e3</span>

    <span class="c1"># Multiply the value by 1000 to get from ppm to ppb</span>
    <span class="n">_df</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">group</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;$SO_2 \; [ppb]$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/api_42_0.png" src="../_images/api_42_0.png" />
<p><strong>NOTE:</strong> These values are for 6h means. The local readings can actually
get much, much higher (&gt;5 ppm!) when looking at 1min data.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/tutorial/api.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, David H Hagan.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>